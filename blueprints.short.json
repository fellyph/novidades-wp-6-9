{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "meta": {
    "title": "Novidades do WordPress 6.9 (short)",
    "author": "Fellyph Cintra",
    "description": "Versão curta (texto em env vars + template)"
  },
  "siteOptions": {
    "blogname": "Novidades do WordPress 6.9",
    "description": "Novidades do WordPress 6.9 para editores e desenvolvedores"
  },
  "steps": [
    {
      "step": "runPHPWithOptions",
      "options": {
        "code": "<?php\nrequire_once '/wordpress/wp-load.php';\n\n$main_post_title = getenv('MAIN_POST_TITLE');\n$template = getenv('CONTENT_TEMPLATE');\n\n$replacements = [\n\t'{{TITLE_FOR_USERS}}' => getenv('TITLE_FOR_USERS'),\n\t'{{TITLE_FOR_DEVELOERS}}' => getenv('TITLE_FOR_DEVELOERS'),\n\t'{{USERS_LI_NOTAS}}' => getenv('USERS_LI_NOTAS'),\n\t'{{USERS_LI_DRAGDROP}}' => getenv('USERS_LI_DRAGDROP'),\n\t'{{DEV_LI_INTERACTIVITY}}' => getenv('DEV_LI_INTERACTIVITY'),\n\t'{{DEV_LI_HTMLAPI}}' => getenv('DEV_LI_HTMLAPI'),\n\t'{{NOTAS_HEADING}}' => getenv('NOTAS_HEADING'),\n\t'{{NOTAS_PARAGRAPH}}' => getenv('NOTAS_PARAGRAPH')\n];\n\n$content = strtr($template, $replacements);\n\n$page_id = wp_insert_post([\n\t'post_type' => 'post',\n\t'post_status' => 'publish',\n\t'post_title' => $main_post_title,\n\t'post_content' => $content,\n], true);\n\nif (is_wp_error($page_id)) {\n\terror_log('addPost error: ' . $page_id->get_error_message());\n}\n?>",
        "env": {
          "MAIN_POST_TITLE": "Novidades do WordPress 6.9 (short)",
          "TITLE_FOR_USERS": "Para Editores e Criadores",
          "TITLE_FOR_DEVELOERS": "Para Desenvolvedores",
          "USERS_LI_NOTAS": "<strong><a href=\"#notas\">Notas</a>:</strong> Anexe notas diretamente a blocos para colaboração assíncrona.",
          "USERS_LI_DRAGDROP": "<strong>Drag &amp; Drop:</strong> Arraste blocos para movê-los diretamente, para uma edição mais fluida.",
          "DEV_LI_INTERACTIVITY": "<strong><a href=\"#interactivity\">Interactivity API</a>:</strong> Navegação client-side e carregamento condicional de recursos.",
          "DEV_LI_HTMLAPI": "<strong>HTML API:</strong> A nova HTML API agora está pública.",
          "NOTAS_HEADING": "Notas",
          "NOTAS_PARAGRAPH": "Início da edição colaborativa no WordPress: agora você pode criar notas dentros dentro do editor.",
          "CONTENT_TEMPLATE": "<!-- wp:group {\"align\":\"full\",\"style\":{\"spacing\":{\"padding\":{\"top\":\"var:preset|spacing|40\",\"bottom\":\"var:preset|spacing|40\",\"left\":\"var:preset|spacing|40\",\"right\":\"var:preset|spacing|40\"}}},\"layout\":{\"type\":\"constrained\"}} -->\n<div class=\"wp-block-group alignfull\" style=\"padding-top:var(--wp--preset--spacing--40);padding-right:var(--wp--preset--spacing--40);padding-bottom:var(--wp--preset--spacing--40);padding-left:var(--wp--preset--spacing--40)\">\n\n<!-- wp:columns -->\n<div class=\"wp-block-columns\">\n\n<!-- wp:column -->\n<div class=\"wp-block-column\">\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">{{TITLE_FOR_USERS}}</h2>\n<!-- /wp:heading -->\n<!-- wp:list -->\n<ul class=\"wp-block-list\">\n\t<!-- wp:list-item --><li>{{USERS_LI_NOTAS}}</li><!-- /wp:list-item -->\n\t<!-- wp:list-item --><li>{{USERS_LI_DRAGDROP}}</li><!-- /wp:list-item -->\n</ul>\n<!-- /wp:list -->\n</div>\n<!-- /wp:column -->\n\n<!-- wp:column -->\n<div class=\"wp-block-column\">\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">{{TITLE_FOR_DEVELOERS}}</h2>\n<!-- /wp:heading -->\n<!-- wp:list -->\n<ul class=\"wp-block-list\">\n\t<!-- wp:list-item --><li>{{DEV_LI_INTERACTIVITY}}</li><!-- /wp:list-item -->\n\t<!-- wp:list-item --><li>{{DEV_LI_HTMLAPI}}</li><!-- /wp:list-item -->\n</ul>\n<!-- /wp:list -->\n</div>\n<!-- /wp:column -->\n\n</div>\n<!-- /wp:columns -->\n\n<!-- wp:separator -->\n<hr class=\"wp-block-separator has-alpha-channel-opacity\"/>\n<!-- /wp:separator -->\n\n<!-- wp:heading {\"level\":3} -->\n<h3 class=\"wp-block-heading\" id=\"notas\">{{NOTAS_HEADING}}</h3>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>{{NOTAS_PARAGRAPH}}</p>\n<!-- /wp:paragraph -->\n\n</div>\n<!-- /wp:group -->"
        }
      },
      "progress": {
        "caption": "addPost: Novidades WordPress 6.9 (short)"
      }
    }
  ]
}
